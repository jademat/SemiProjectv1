<!doctype html>
<html lang="ko" layout:decorate="~{layouts/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<th:block layout:fragment="css">
    <link href="/css/member.css" rel="stylesheet">
</th:block>

<th:block layout:fragment="content">
    <main id="content">
        <h2>회원가입</h2>
        <form id="joinfrm" method="post" name="joinfrm" novalidate>

            <div class="form-floating my-2">
                <input class="form-control" id="userid" maxlength="18" minlength="6"
                       name="userid" placeholder="아이디" required type="text">
                <label class="form-label" for="userid">아이디</label>
            </div>

            <div class="form-floating my-2">
                <input class="form-control" id="passwd" maxlength="18" minlength="6"
                       name="passwd" placeholder="비밀번호" required type="password">
                <label class="form-label" for="passwd">비밀번호</label>
            </div>

            <div class="form-floating my-2">
                <input class="form-control" id="repasswd" maxlength="18" minlength="6"
                       name="repasswd" placeholder="비밀번호 확인" required type="password">
                <label class="form-label" for="repasswd">비밀번호 확인</label>
            </div>

            <div class="form-floating my-2">
                <input class="form-control" id="name" name="name" placeholder="이름"
                       required type="text">
                <label class="form-label" for="name">이름</label>
            </div>

            <div class="form-floating my-2">
                <input class="form-control" id="email" name="email" placeholder="이메일"
                       required type="email">
                <label class="form-label" for="email">이메일</label>
            </div>

            <div class="my-2 d-flex justify-content-center">
                <img src="/image/captcha.png">
            </div>

            <div class="my-2 d-flex justify-content-between">
                <button class="btn btn-primary" type="submit">
                    <i class="fa-sharp fa-solid fa-file-signature"></i> 입력완료
                </button>
                <button class="btn btn-danger" type="reset">
                    <i class="fa-sharp fa-solid fa-eraser"></i> 다시입력
                </button>
            </div>
        </form>
    </main>
</th:block>

<th:block layout:fragment="script">
    <script src="/js/member.js"></script>
    <script>
        const joinfrm = document.querySelector('#joinfrm');

        joinfrm.addEventListener("submit", (e) => {
            e.preventDefault(); // submit 버튼 기능 중지

            clearErrorMessages();   // 에러메세지 초기화

            // 입력 요소 유효성 검사
            let isValid = validInputs(joinfrm);

            if (isValid) submitJoinfrm(joinfrm);
        });




    </script>
</th:block>
</html>